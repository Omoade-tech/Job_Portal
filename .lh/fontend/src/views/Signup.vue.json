{
    "sourceFile": "fontend/src/views/Signup.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1736495714555,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1736496344182,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,13 +6,24 @@\n           <div class=\"card-header\">\r\n             <h3 class=\"text-center\">Register</h3>\r\n           </div>\r\n           <div class=\"card-body\">\r\n+            <!-- Add alert for displaying errors -->\r\n+            <div v-if=\"errors.email\" class=\"alert alert-danger\" role=\"alert\">\r\n+              {{ errors.email }}\r\n+            </div>\r\n+\r\n             <form @submit.prevent=\"registerUser\">\r\n               <!-- Role -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"role\" class=\"form-label\">Role</label>\r\n-                <select id=\"role\" v-model=\"form.role\" class=\"form-control\" required>\r\n+                <select \r\n+                  id=\"role\" \r\n+                  v-model=\"form.role\" \r\n+                  class=\"form-control\" \r\n+                  :class=\"{ 'is-invalid': errors.role }\"\r\n+                  required\r\n+                >\r\n                   <option disabled value=\"\">Select Role</option>\r\n                   <option value=\"admin\">Admin</option>\r\n                   <option value=\"employer\">Employer</option>\r\n                   <option value=\"job_seeker\">Jobseeker</option>\r\n@@ -21,88 +32,69 @@\n \r\n               <!-- Name -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"name\" class=\"form-label\">Name</label>\r\n-                <input type=\"text\" id=\"name\" v-model=\"form.name\" class=\"form-control\" required />\r\n+                <input \r\n+                  type=\"text\" \r\n+                  id=\"name\" \r\n+                  v-model=\"form.name\" \r\n+                  class=\"form-control\"\r\n+                  :class=\"{ 'is-invalid': errors.name }\"\r\n+                  required \r\n+                />\r\n               </div>\r\n \r\n               <!-- Email -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"email\" class=\"form-label\">Email</label>\r\n-                <input type=\"email\" id=\"email\" v-model=\"form.email\" class=\"form-control\" required />\r\n+                <input \r\n+                  type=\"email\" \r\n+                  id=\"email\" \r\n+                  v-model=\"form.email\" \r\n+                  class=\"form-control\"\r\n+                  :class=\"{ 'is-invalid': errors.email }\"\r\n+                  @input=\"clearError('email')\"\r\n+                  required \r\n+                />\r\n+                <div v-if=\"errors.email\" class=\"invalid-feedback\">\r\n+                  {{ errors.email }}\r\n+                </div>\r\n               </div>\r\n \r\n+              <!-- Rest of the form fields remain the same -->\r\n               <!-- Password -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"password\" class=\"form-label\">Password</label>\r\n-                <input type=\"password\" id=\"password\" v-model=\"form.password\" class=\"form-control\" required />\r\n+                <input \r\n+                  type=\"password\" \r\n+                  id=\"password\" \r\n+                  v-model=\"form.password\" \r\n+                  class=\"form-control\"\r\n+                  :class=\"{ 'is-invalid': errors.password }\"\r\n+                  required \r\n+                />\r\n               </div>\r\n \r\n               <!-- Confirm Password -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"confirmPassword\" class=\"form-label\">Confirm Password</label>\r\n-                <input type=\"password\" id=\"confirmPassword\" v-model=\"form.confirmPassword\" class=\"form-control\" required />\r\n+                <input \r\n+                  type=\"password\" \r\n+                  id=\"confirmPassword\" \r\n+                  v-model=\"form.confirmPassword\" \r\n+                  class=\"form-control\"\r\n+                  :class=\"{ 'is-invalid': errors.confirmPassword }\"\r\n+                  required \r\n+                />\r\n               </div>\r\n \r\n-              <!-- Phone Number -->\r\n-              <div class=\"mb-3\">\r\n-                <label for=\"phoneNumber\" class=\"form-label\">Phone Number</label>\r\n-                <input type=\"tel\" id=\"phoneNumber\" v-model=\"form.phoneNumber\" class=\"form-control\" required />\r\n-              </div>\r\n+              <!-- Rest of your form fields... -->\r\n \r\n-              <!-- Age -->\r\n-              <div class=\"mb-3\">\r\n-                <label for=\"age\" class=\"form-label\">Age</label>\r\n-                <input type=\"number\" id=\"age\" v-model=\"form.age\" class=\"form-control\" required />\r\n-              </div>\r\n-\r\n-              <!-- Sex -->\r\n-              <div class=\"mb-3\">\r\n-                <label for=\"sex\" class=\"form-label\">Sex</label>\r\n-                <select id=\"sex\" v-model=\"form.sex\" class=\"form-control\" required>\r\n-                  <option disabled value=\"\">Select Sex</option>\r\n-                  <option value=\"male\">Male</option>\r\n-                  <option value=\"female\">Female</option>\r\n-                </select>\r\n-              </div>\r\n-\r\n-              <!-- Status -->\r\n-              <div class=\"mb-3\">\r\n-                <label for=\"status\" class=\"form-label\">Marital Status</label>\r\n-                <select id=\"status\" v-model=\"form.status\" class=\"form-control\" required>\r\n-                  <option disabled value=\"\">Select Status</option>\r\n-                  <option value=\"single\">Single</option>\r\n-                  <option value=\"married\">Married</option>\r\n-                </select>\r\n-              </div>\r\n-\r\n-              <!-- Address -->\r\n-              <div class=\"mb-3\">\r\n-                <label for=\"address\" class=\"form-label\">Address</label>\r\n-                <textarea id=\"address\" v-model=\"form.address\" class=\"form-control\" rows=\"2\" required></textarea>\r\n-              </div>\r\n-\r\n-              <!-- City -->\r\n-              <div class=\"mb-3\">\r\n-                <label for=\"city\" class=\"form-label\">City</label>\r\n-                <input type=\"text\" id=\"city\" v-model=\"form.city\" class=\"form-control\" required />\r\n-              </div>\r\n-\r\n-              <!-- State -->\r\n-              <div class=\"mb-3\">\r\n-                <label for=\"state\" class=\"form-label\">State</label>\r\n-                <input type=\"text\" id=\"state\" v-model=\"form.state\" class=\"form-control\" required />\r\n-              </div>\r\n-\r\n-              <!-- Country -->\r\n-              <div class=\"mb-3\">\r\n-                <label for=\"country\" class=\"form-label\">Country</label>\r\n-                <input type=\"text\" id=\"country\" v-model=\"form.country\" class=\"form-control\" required />\r\n-              </div>\r\n-\r\n               <!-- Submit Button -->\r\n               <div class=\"d-grid\">\r\n-                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n+                <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSubmitting\">\r\n+                  {{ isSubmitting ? 'Registering...' : 'Register' }}\r\n+                </button>\r\n               </div>\r\n             </form>\r\n           </div>\r\n         </div>\r\n@@ -131,28 +123,73 @@\n         city: \"\",\r\n         state: \"\",\r\n         country: \"\",\r\n       },\r\n+      errors: {},\r\n+      isSubmitting: false\r\n     };\r\n   },\r\n   methods: {\r\n+    clearError(field) {\r\n+      if (this.errors[field]) {\r\n+        this.$delete(this.errors, field);\r\n+      }\r\n+    },\r\n     async registerUser() {\r\n+      // Reset errors\r\n+      this.errors = {};\r\n+      \r\n       // Check if passwords match\r\n       if (this.form.password !== this.form.confirmPassword) {\r\n-        alert(\"Passwords do not match.\");\r\n+        this.errors.confirmPassword = \"Passwords do not match.\";\r\n         return;\r\n       }\r\n \r\n+      this.isSubmitting = true;\r\n+\r\n       try {\r\n         const response = await api.register(this.form);\r\n-        alert(\"Registration successful!\");\r\n-        console.log(response.data);\r\n-        this.$router.push(\"/login\");\r\n+        this.$router.push({\r\n+          path: \"/login\",\r\n+          query: { \r\n+            message: \"Registration successful! Please login to continue.\" \r\n+          }\r\n+        });\r\n       } catch (error) {\r\n-        console.error(\"Registration failed:\", error.response.data);\r\n-        const errorMessage = error.response.data.message || \"Registration failed. Please try again.\";\r\n-        alert(errorMessage);\r\n+        console.error(\"Registration failed:\", error.response?.data);\r\n+        \r\n+        if (error.response?.data?.errors) {\r\n+          // Handle validation errors\r\n+          this.errors = error.response.data.errors;\r\n+        } else if (error.response?.data?.message) {\r\n+          // Handle other errors with specific messages\r\n+          if (error.response.data.message.includes('email is already taken')) {\r\n+            this.errors.email = \"This email is already registered. Please use a different email.\";\r\n+          } else {\r\n+            // General error message\r\n+            this.errors.general = error.response.data.message;\r\n+          }\r\n+        } else {\r\n+          // Fallback error message\r\n+          this.errors.general = \"Registration failed. Please try again.\";\r\n+        }\r\n+      } finally {\r\n+        this.isSubmitting = false;\r\n       }\r\n     },\r\n-  },\r\n+    validateEmail(email) {\r\n+      // Basic email validation\r\n+      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n+      return emailRegex.test(email);\r\n+    }\r\n+  }\r\n };\r\n </script>\r\n+\r\n+<style scoped>\r\n+.alert {\r\n+  margin-bottom: 1rem;\r\n+}\r\n+.invalid-feedback {\r\n+  display: block;\r\n+}\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1736496421907,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,24 +6,13 @@\n           <div class=\"card-header\">\r\n             <h3 class=\"text-center\">Register</h3>\r\n           </div>\r\n           <div class=\"card-body\">\r\n-            <!-- Add alert for displaying errors -->\r\n-            <div v-if=\"errors.email\" class=\"alert alert-danger\" role=\"alert\">\r\n-              {{ errors.email }}\r\n-            </div>\r\n-\r\n             <form @submit.prevent=\"registerUser\">\r\n               <!-- Role -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"role\" class=\"form-label\">Role</label>\r\n-                <select \r\n-                  id=\"role\" \r\n-                  v-model=\"form.role\" \r\n-                  class=\"form-control\" \r\n-                  :class=\"{ 'is-invalid': errors.role }\"\r\n-                  required\r\n-                >\r\n+                <select id=\"role\" v-model=\"form.role\" class=\"form-control\" required>\r\n                   <option disabled value=\"\">Select Role</option>\r\n                   <option value=\"admin\">Admin</option>\r\n                   <option value=\"employer\">Employer</option>\r\n                   <option value=\"job_seeker\">Jobseeker</option>\r\n@@ -32,69 +21,88 @@\n \r\n               <!-- Name -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"name\" class=\"form-label\">Name</label>\r\n-                <input \r\n-                  type=\"text\" \r\n-                  id=\"name\" \r\n-                  v-model=\"form.name\" \r\n-                  class=\"form-control\"\r\n-                  :class=\"{ 'is-invalid': errors.name }\"\r\n-                  required \r\n-                />\r\n+                <input type=\"text\" id=\"name\" v-model=\"form.name\" class=\"form-control\" required />\r\n               </div>\r\n \r\n               <!-- Email -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"email\" class=\"form-label\">Email</label>\r\n-                <input \r\n-                  type=\"email\" \r\n-                  id=\"email\" \r\n-                  v-model=\"form.email\" \r\n-                  class=\"form-control\"\r\n-                  :class=\"{ 'is-invalid': errors.email }\"\r\n-                  @input=\"clearError('email')\"\r\n-                  required \r\n-                />\r\n-                <div v-if=\"errors.email\" class=\"invalid-feedback\">\r\n-                  {{ errors.email }}\r\n-                </div>\r\n+                <input type=\"email\" id=\"email\" v-model=\"form.email\" class=\"form-control\" required />\r\n               </div>\r\n \r\n-              <!-- Rest of the form fields remain the same -->\r\n               <!-- Password -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"password\" class=\"form-label\">Password</label>\r\n-                <input \r\n-                  type=\"password\" \r\n-                  id=\"password\" \r\n-                  v-model=\"form.password\" \r\n-                  class=\"form-control\"\r\n-                  :class=\"{ 'is-invalid': errors.password }\"\r\n-                  required \r\n-                />\r\n+                <input type=\"password\" id=\"password\" v-model=\"form.password\" class=\"form-control\" required />\r\n               </div>\r\n \r\n               <!-- Confirm Password -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"confirmPassword\" class=\"form-label\">Confirm Password</label>\r\n-                <input \r\n-                  type=\"password\" \r\n-                  id=\"confirmPassword\" \r\n-                  v-model=\"form.confirmPassword\" \r\n-                  class=\"form-control\"\r\n-                  :class=\"{ 'is-invalid': errors.confirmPassword }\"\r\n-                  required \r\n-                />\r\n+                <input type=\"password\" id=\"confirmPassword\" v-model=\"form.confirmPassword\" class=\"form-control\" required />\r\n               </div>\r\n \r\n-              <!-- Rest of your form fields... -->\r\n+              <!-- Phone Number -->\r\n+              <div class=\"mb-3\">\r\n+                <label for=\"phoneNumber\" class=\"form-label\">Phone Number</label>\r\n+                <input type=\"tel\" id=\"phoneNumber\" v-model=\"form.phoneNumber\" class=\"form-control\" required />\r\n+              </div>\r\n \r\n+              <!-- Age -->\r\n+              <div class=\"mb-3\">\r\n+                <label for=\"age\" class=\"form-label\">Age</label>\r\n+                <input type=\"number\" id=\"age\" v-model=\"form.age\" class=\"form-control\" required />\r\n+              </div>\r\n+\r\n+              <!-- Sex -->\r\n+              <div class=\"mb-3\">\r\n+                <label for=\"sex\" class=\"form-label\">Sex</label>\r\n+                <select id=\"sex\" v-model=\"form.sex\" class=\"form-control\" required>\r\n+                  <option disabled value=\"\">Select Sex</option>\r\n+                  <option value=\"male\">Male</option>\r\n+                  <option value=\"female\">Female</option>\r\n+                </select>\r\n+              </div>\r\n+\r\n+              <!-- Status -->\r\n+              <div class=\"mb-3\">\r\n+                <label for=\"status\" class=\"form-label\">Marital Status</label>\r\n+                <select id=\"status\" v-model=\"form.status\" class=\"form-control\" required>\r\n+                  <option disabled value=\"\">Select Status</option>\r\n+                  <option value=\"single\">Single</option>\r\n+                  <option value=\"married\">Married</option>\r\n+                </select>\r\n+              </div>\r\n+\r\n+              <!-- Address -->\r\n+              <div class=\"mb-3\">\r\n+                <label for=\"address\" class=\"form-label\">Address</label>\r\n+                <textarea id=\"address\" v-model=\"form.address\" class=\"form-control\" rows=\"2\" required></textarea>\r\n+              </div>\r\n+\r\n+              <!-- City -->\r\n+              <div class=\"mb-3\">\r\n+                <label for=\"city\" class=\"form-label\">City</label>\r\n+                <input type=\"text\" id=\"city\" v-model=\"form.city\" class=\"form-control\" required />\r\n+              </div>\r\n+\r\n+              <!-- State -->\r\n+              <div class=\"mb-3\">\r\n+                <label for=\"state\" class=\"form-label\">State</label>\r\n+                <input type=\"text\" id=\"state\" v-model=\"form.state\" class=\"form-control\" required />\r\n+              </div>\r\n+\r\n+              <!-- Country -->\r\n+              <div class=\"mb-3\">\r\n+                <label for=\"country\" class=\"form-label\">Country</label>\r\n+                <input type=\"text\" id=\"country\" v-model=\"form.country\" class=\"form-control\" required />\r\n+              </div>\r\n+\r\n               <!-- Submit Button -->\r\n               <div class=\"d-grid\">\r\n-                <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"isSubmitting\">\r\n-                  {{ isSubmitting ? 'Registering...' : 'Register' }}\r\n-                </button>\r\n+                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n               </div>\r\n             </form>\r\n           </div>\r\n         </div>\r\n@@ -123,73 +131,28 @@\n         city: \"\",\r\n         state: \"\",\r\n         country: \"\",\r\n       },\r\n-      errors: {},\r\n-      isSubmitting: false\r\n     };\r\n   },\r\n   methods: {\r\n-    clearError(field) {\r\n-      if (this.errors[field]) {\r\n-        this.$delete(this.errors, field);\r\n-      }\r\n-    },\r\n     async registerUser() {\r\n-      // Reset errors\r\n-      this.errors = {};\r\n-      \r\n       // Check if passwords match\r\n       if (this.form.password !== this.form.confirmPassword) {\r\n-        this.errors.confirmPassword = \"Passwords do not match.\";\r\n+        alert(\"Passwords do not match.\");\r\n         return;\r\n       }\r\n \r\n-      this.isSubmitting = true;\r\n-\r\n       try {\r\n         const response = await api.register(this.form);\r\n-        this.$router.push({\r\n-          path: \"/login\",\r\n-          query: { \r\n-            message: \"Registration successful! Please login to continue.\" \r\n-          }\r\n-        });\r\n+        alert(\"Registration successful!\");\r\n+        console.log(response.data);\r\n+        this.$router.push(\"/login\");\r\n       } catch (error) {\r\n-        console.error(\"Registration failed:\", error.response?.data);\r\n-        \r\n-        if (error.response?.data?.errors) {\r\n-          // Handle validation errors\r\n-          this.errors = error.response.data.errors;\r\n-        } else if (error.response?.data?.message) {\r\n-          // Handle other errors with specific messages\r\n-          if (error.response.data.message.includes('email is already taken')) {\r\n-            this.errors.email = \"This email is already registered. Please use a different email.\";\r\n-          } else {\r\n-            // General error message\r\n-            this.errors.general = error.response.data.message;\r\n-          }\r\n-        } else {\r\n-          // Fallback error message\r\n-          this.errors.general = \"Registration failed. Please try again.\";\r\n-        }\r\n-      } finally {\r\n-        this.isSubmitting = false;\r\n+        console.error(\"Registration failed:\", error.response.data);\r\n+        const errorMessage = error.response.data.message || \"Registration failed. Please try again.\";\r\n+        alert(errorMessage);\r\n       }\r\n     },\r\n-    validateEmail(email) {\r\n-      // Basic email validation\r\n-      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n-      return emailRegex.test(email);\r\n-    }\r\n-  }\r\n+  },\r\n };\r\n </script>\r\n-\r\n\\ No newline at end of file\n-<style scoped>\r\n-.alert {\r\n-  margin-bottom: 1rem;\r\n-}\r\n-.invalid-feedback {\r\n-  display: block;\r\n-}\r\n-</style>\n"
                },
                {
                    "date": 1736496501617,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,8 +17,9 @@\n                   <option value=\"employer\">Employer</option>\r\n                   <option value=\"job_seeker\">Jobseeker</option>\r\n                 </select>\r\n               </div>\r\n+              \r\n \r\n               <!-- Name -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"name\" class=\"form-label\">Name</label>\r\n"
                },
                {
                    "date": 1736496571590,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,9 @@\n           <div class=\"card-header\">\r\n             <h3 class=\"text-center\">Register</h3>\r\n           </div>\r\n           <div class=\"card-body\">\r\n+            \r\n             <form @submit.prevent=\"registerUser\">\r\n               <!-- Role -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"role\" class=\"form-label\">Role</label>\r\n"
                },
                {
                    "date": 1736496586912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,12 @@\n             <h3 class=\"text-center\">Register</h3>\r\n           </div>\r\n           <div class=\"card-body\">\r\n             \r\n+            <!-- Add alert for displaying errors -->\r\n+            <div v-if=\"errors.email\" class=\"alert alert-danger\" role=\"alert\">\r\n+              {{ errors.email }}\r\n+            </div>\r\n             <form @submit.prevent=\"registerUser\">\r\n               <!-- Role -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"role\" class=\"form-label\">Role</label>\r\n"
                },
                {
                    "date": 1736496867652,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,13 +6,14 @@\n           <div class=\"card-header\">\r\n             <h3 class=\"text-center\">Register</h3>\r\n           </div>\r\n           <div class=\"card-body\">\r\n-            \r\n+  \r\n             <!-- Add alert for displaying errors -->\r\n             <div v-if=\"errors.email\" class=\"alert alert-danger\" role=\"alert\">\r\n               {{ errors.email }}\r\n             </div>\r\n+\r\n             <form @submit.prevent=\"registerUser\">\r\n               <!-- Role -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"role\" class=\"form-label\">Role</label>\r\n@@ -125,9 +126,9 @@\n     return {\r\n       form: {\r\n         role: \"\",\r\n         name: \"\",\r\n-        email: \"\", \r\n+        email: \"\",\r\n         password: \"\",\r\n         confirmPassword: \"\",\r\n         phoneNumber: \"\",\r\n         age: null,\r\n@@ -137,12 +138,37 @@\n         city: \"\",\r\n         state: \"\",\r\n         country: \"\",\r\n       },\r\n+      errors: {\r\n+        email: \"\", // Holds validation errors for the email field\r\n+      },\r\n     };\r\n   },\r\n   methods: {\r\n+    async validateEmail() {\r\n+      try {\r\n+        const response = await api.checkEmail({ email: this.form.email });\r\n+        if (response.data.exists) {\r\n+          this.errors.email = \"This email is already taken.\";\r\n+        } else {\r\n+          this.errors.email = \"\"; // Clear the error if email is valid\r\n+        }\r\n+      } catch (error) {\r\n+        console.error(\"Email validation failed:\", error.response.data);\r\n+        this.errors.email = \"Failed to validate email. Please try again.\";\r\n+      }\r\n+    },\r\n     async registerUser() {\r\n+      // Clear existing errors\r\n+      this.errors.email = \"\";\r\n+\r\n+      // Check email validation\r\n+      await this.validateEmail();\r\n+      if (this.errors.email) {\r\n+        return; // Stop registration if email is invalid\r\n+      }\r\n+\r\n       // Check if passwords match\r\n       if (this.form.password !== this.form.confirmPassword) {\r\n         alert(\"Passwords do not match.\");\r\n         return;\r\n"
                },
                {
                    "date": 1736496970301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,8 @@\n             <!-- Add alert for displaying errors -->\r\n             <div v-if=\"errors.email\" class=\"alert alert-danger\" role=\"alert\">\r\n               {{ errors.email }}\r\n             </div>\r\n-\r\n             <form @submit.prevent=\"registerUser\">\r\n               <!-- Role -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"role\" class=\"form-label\">Role</label>\r\n@@ -126,9 +125,9 @@\n     return {\r\n       form: {\r\n         role: \"\",\r\n         name: \"\",\r\n-        email: \"\",\r\n+        email: \"\", \r\n         password: \"\",\r\n         confirmPassword: \"\",\r\n         phoneNumber: \"\",\r\n         age: null,\r\n@@ -138,37 +137,12 @@\n         city: \"\",\r\n         state: \"\",\r\n         country: \"\",\r\n       },\r\n-      errors: {\r\n-        email: \"\", // Holds validation errors for the email field\r\n-      },\r\n     };\r\n   },\r\n   methods: {\r\n-    async validateEmail() {\r\n-      try {\r\n-        const response = await api.checkEmail({ email: this.form.email });\r\n-        if (response.data.exists) {\r\n-          this.errors.email = \"This email is already taken.\";\r\n-        } else {\r\n-          this.errors.email = \"\"; // Clear the error if email is valid\r\n-        }\r\n-      } catch (error) {\r\n-        console.error(\"Email validation failed:\", error.response.data);\r\n-        this.errors.email = \"Failed to validate email. Please try again.\";\r\n-      }\r\n-    },\r\n     async registerUser() {\r\n-      // Clear existing errors\r\n-      this.errors.email = \"\";\r\n-\r\n-      // Check email validation\r\n-      await this.validateEmail();\r\n-      if (this.errors.email) {\r\n-        return; // Stop registration if email is invalid\r\n-      }\r\n-\r\n       // Check if passwords match\r\n       if (this.form.password !== this.form.confirmPassword) {\r\n         alert(\"Passwords do not match.\");\r\n         return;\r\n"
                },
                {
                    "date": 1736496980713,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,12 +7,9 @@\n             <h3 class=\"text-center\">Register</h3>\r\n           </div>\r\n           <div class=\"card-body\">\r\n   \r\n-            <!-- Add alert for displaying errors -->\r\n-            <div v-if=\"errors.email\" class=\"alert alert-danger\" role=\"alert\">\r\n-              {{ errors.email }}\r\n-            </div>\r\n+       \r\n             <form @submit.prevent=\"registerUser\">\r\n               <!-- Role -->\r\n               <div class=\"mb-3\">\r\n                 <label for=\"role\" class=\"form-label\">Role</label>\r\n"
                }
            ],
            "date": 1736495714555,
            "name": "Commit-0",
            "content": "<template>\r\n  <div class=\"container mt-5\">\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h3 class=\"text-center\">Register</h3>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <form @submit.prevent=\"registerUser\">\r\n              <!-- Role -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"role\" class=\"form-label\">Role</label>\r\n                <select id=\"role\" v-model=\"form.role\" class=\"form-control\" required>\r\n                  <option disabled value=\"\">Select Role</option>\r\n                  <option value=\"admin\">Admin</option>\r\n                  <option value=\"employer\">Employer</option>\r\n                  <option value=\"job_seeker\">Jobseeker</option>\r\n                </select>\r\n              </div>\r\n\r\n              <!-- Name -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"name\" class=\"form-label\">Name</label>\r\n                <input type=\"text\" id=\"name\" v-model=\"form.name\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- Email -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"email\" class=\"form-label\">Email</label>\r\n                <input type=\"email\" id=\"email\" v-model=\"form.email\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- Password -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"password\" class=\"form-label\">Password</label>\r\n                <input type=\"password\" id=\"password\" v-model=\"form.password\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- Confirm Password -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"confirmPassword\" class=\"form-label\">Confirm Password</label>\r\n                <input type=\"password\" id=\"confirmPassword\" v-model=\"form.confirmPassword\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- Phone Number -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"phoneNumber\" class=\"form-label\">Phone Number</label>\r\n                <input type=\"tel\" id=\"phoneNumber\" v-model=\"form.phoneNumber\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- Age -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"age\" class=\"form-label\">Age</label>\r\n                <input type=\"number\" id=\"age\" v-model=\"form.age\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- Sex -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"sex\" class=\"form-label\">Sex</label>\r\n                <select id=\"sex\" v-model=\"form.sex\" class=\"form-control\" required>\r\n                  <option disabled value=\"\">Select Sex</option>\r\n                  <option value=\"male\">Male</option>\r\n                  <option value=\"female\">Female</option>\r\n                </select>\r\n              </div>\r\n\r\n              <!-- Status -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"status\" class=\"form-label\">Marital Status</label>\r\n                <select id=\"status\" v-model=\"form.status\" class=\"form-control\" required>\r\n                  <option disabled value=\"\">Select Status</option>\r\n                  <option value=\"single\">Single</option>\r\n                  <option value=\"married\">Married</option>\r\n                </select>\r\n              </div>\r\n\r\n              <!-- Address -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"address\" class=\"form-label\">Address</label>\r\n                <textarea id=\"address\" v-model=\"form.address\" class=\"form-control\" rows=\"2\" required></textarea>\r\n              </div>\r\n\r\n              <!-- City -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"city\" class=\"form-label\">City</label>\r\n                <input type=\"text\" id=\"city\" v-model=\"form.city\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- State -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"state\" class=\"form-label\">State</label>\r\n                <input type=\"text\" id=\"state\" v-model=\"form.state\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- Country -->\r\n              <div class=\"mb-3\">\r\n                <label for=\"country\" class=\"form-label\">Country</label>\r\n                <input type=\"text\" id=\"country\" v-model=\"form.country\" class=\"form-control\" required />\r\n              </div>\r\n\r\n              <!-- Submit Button -->\r\n              <div class=\"d-grid\">\r\n                <button type=\"submit\" class=\"btn btn-primary\">Register</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from \"@/services/api.js\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        role: \"\",\r\n        name: \"\",\r\n        email: \"\", \r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        phoneNumber: \"\",\r\n        age: null,\r\n        sex: \"\",\r\n        status: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        state: \"\",\r\n        country: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async registerUser() {\r\n      // Check if passwords match\r\n      if (this.form.password !== this.form.confirmPassword) {\r\n        alert(\"Passwords do not match.\");\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const response = await api.register(this.form);\r\n        alert(\"Registration successful!\");\r\n        console.log(response.data);\r\n        this.$router.push(\"/login\");\r\n      } catch (error) {\r\n        console.error(\"Registration failed:\", error.response.data);\r\n        const errorMessage = error.response.data.message || \"Registration failed. Please try again.\";\r\n        alert(errorMessage);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"
        }
    ]
}